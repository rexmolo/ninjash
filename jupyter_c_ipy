#!/bin/bash
# jupyter_ipykernel.sh

# Check if inside a virtual environment
if [ -z "$VIRTUAL_ENV" ]; then
  echo "‚ùå No virtual environment detected. Please activate one before running this script."
  exit 1
fi

# Confirm venv path
echo "‚úÖ Virtual environment detected: $VIRTUAL_ENV"

# Install ipykernel in the current venv
pip install ipykernel

# Use folder name as project/kernel name
PROJECT=$(basename "$PWD")
python -m ipykernel install --user --name="$PROJECT" --display-name "Python ($PROJECT)"

# Show available kernels
echo "üìú Installed Jupyter kernels:"
jupyter kernelspec list

